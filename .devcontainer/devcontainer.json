{
  "name": "NHS Prototype",
  "image": "mcr.microsoft.com/devcontainers/universal:2",
  // "waitFor": "onCreateCommand",
  "runArgs": ["--env", "PORT=2001"],
  "portsAttributes": {
    "3001": {
      "label": "Application",
      "onAutoForward": "openPreview"
    }
  },
  "forwardPorts": [3001],
  "otherPortsAttributes": { "onAutoForward" : "ignore" },
  // when created - sets the git merge statergy to rebase to hopefully make easier time of merging
  "onCreateCommand": "git config --global pull.rebase true",
  // after creation - installs the node packages
  "postCreateCommand": "npm install",
  // A command to run each time a tool has successfully attached to the container
  "postAttachCommand": {
    "server": "npm run watch"
  },
  // codespace customisations
  "customizations": {
    // Configure properties specific to VS Code web-basde IDE used within codespaces.
    "vscode": {
      // editor settings
      "settings": {
        "remote.autoForwardPorts": false,
        // Uncomment the following property object to hide files not needed to update content
        // "files.exclude": {
        //   "{docs,lib,linters,middleware,node_modules,public,tests,NHS111.Shared.Frontend}/": true,
        //   "*{CHANGELOG,CONTRIBUTING}.md": true,a
        //   "app/{data,assets}/": true,
        //   "app/*.js": true,
        //   "*.{js,yml,json}": true,
        //   ".*": true,
        //   "LICENSE": true
        // },
        "emmet.includeLanguages": {
          "njk": "html",
          "nunjucks": "html",
          "erb": "html",
          "jinja": "html",
          "jinja-html": "html",
          "markdown": "html"
        },
        "html.suggest.html5": true
      },
      // bundle the following editor extensions
      "extensions": ["douglaszaltron.nunjucks-vscode-extensionpack"]
    }
  }
}
